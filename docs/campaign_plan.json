{
  "name": "search_campaign",
  "strict": true,
  "schema": {
    "type": "object",
    "properties": {
      "Campaigns": {
        "type": "array",
        "description": "List of campaigns to be created.",
        "minItems": 1,
        "maxItems": 10,
        "items": {
          "type": "object",
          "properties": {
            "CampaignId": {
              "type": "string",
              "description": "Short campaign ID used to link ad groups. Format: 'C[NN]' (e.g. 'C01').",
              "pattern": "^C\\d{2}$"
            },
            "CampaignName": {
              "type": "string",
              "description": "Name of the campaign. Format: 'LT-SEM | [Index] | [YYYYMM] | [Goal] | [Type] | [Geo] | [Language] | [Brand + Product/Offer] | [Category]'. [Index] is a 2-digit sequential number (e.g. '01'). Use ISO codes for Geo (e.g. 'MY') and Language (e.g. 'EN'). [Brand + Product/Offer] is the brand plus specific product/service/offer (e.g. 'Acme Invisalign'). [Category] represents the high-level business vertical (e.g. 'Furniture').",
              "minLength": 1
            },
            "Goal": {
              "type": "string",
              "description": "Goal of the campaign.",
              "enum": [
                "Sales",
                "Lead",
                "Traffic",
                "Local Store"
              ]
            },
            "CampaignType": {
              "type": "string",
              "description": "Type of the campaign. Default to 'Search' for Lead/Service goals under restricted budgets. Use 'PMax' for Local Store Visits (multi-location) or E-com.",
              "enum": [
                "Search",
                "PMax",
                "Demand Gen",
                "Display"
              ]
            },
            "BudgetDailyMYR": {
              "type": "number",
              "description": "Daily budget for the campaign in MYR.",
              "minimum": 0
            },
            "BiddingLifecycle": {
              "type": "object",
              "description": "Defines the phased bidding strategy for cold-starting campaigns.",
              "properties": {
                "Phase1_Launch": {
                  "type": "object",
                  "properties": {
                    "StrategyType": {
                      "type": "string",
                      "const": "MaximizeClicks"
                    },
                    "MaxCPC_Cap_MYR": {
                      "type": "number",
                      "description": "Bid cap to prevent overspending on single clicks."
                    }
                  },
                  "required": [
                    "StrategyType",
                    "MaxCPC_Cap_MYR"
                  ],
                  "additionalProperties": false
                },
                "Switch_Condition": {
                  "type": "object",
                  "properties": {
                    "Metric": {
                      "type": "string",
                      "const": "Conversions"
                    },
                    "Threshold": {
                      "type": "integer",
                      "default": 15,
                      "description": "Number of conversions required to trigger Phase 2."
                    }
                  },
                  "required": [
                    "Metric",
                    "Threshold"
                  ],
                  "additionalProperties": false
                },
                "Phase2_Scale": {
                  "type": "object",
                  "properties": {
                    "StrategyType": {
                      "type": "string",
                      "enum": [
                        "TargetCPA",
                        "MaximizeConversions"
                      ]
                    },
                    "TargetCPA_MYR": {
                      "type": [
                        "number",
                        "null"
                      ],
                      "description": "Desired cost per acquisition. Null if using uncapped MaxConv."
                    }
                  },
                  "required": [
                    "StrategyType",
                    "TargetCPA_MYR"
                  ],
                  "additionalProperties": false
                }
              },
              "required": [
                "Phase1_Launch",
                "Switch_Condition",
                "Phase2_Scale"
              ],
              "additionalProperties": false
            },
            "Language": {
              "type": "array",
              "description": "List of target languages. Logic: ['en', 'ms'] for Mass Market/Local; ['en'] for Premium/International; ['en', 'zh'] for Chinese Niche.",
              "items": {
                "type": "string",
                "minLength": 1
              },
              "minItems": 1
            },
            "Location": {
              "type": "object",
              "description": "Geo-targeting settings. Supports multiple distinct locations and strict targeting modes.",
              "properties": {
                "TargetingMethod": {
                  "type": "string",
                  "enum": [
                    "PresenceOnly",
                    "PresenceOrInterest"
                  ],
                  "description": "Strictness of location targeting. 'PresenceOnly' = People IN the location. 'PresenceOrInterest' = People IN or INTERESTED IN the location."
                },
                "Included": {
                  "type": "array",
                  "description": "List of positive location targets.",
                  "items": {
                    "type": "object",
                    "properties": {
                      "Name": {
                        "type": "string",
                        "description": "City, State, or Area name."
                      },
                      "RadiusKm": {
                        "anyOf": [
                          {
                            "type": "number",
                            "minimum": 0
                          },
                          {
                            "type": "null"
                          }
                        ],
                        "description": "Radius in km. Use null for direct City/State targeting."
                      }
                    },
                    "required": [
                      "Name",
                      "RadiusKm"
                    ],
                    "additionalProperties": false
                  }
                },
                "Excluded": {
                  "type": "array",
                  "description": "List of negative location targets (e.g., specific states to avoid).",
                  "items": {
                    "type": "string"
                  }
                }
              },
              "required": [
                "TargetingMethod",
                "Included",
                "Excluded"
              ],
              "additionalProperties": false
            },
            "AdSchedule": {
              "type": "array",
              "description": "Schedule for when the ads should run, including bid adjustments.",
              "items": {
                "type": "object",
                "properties": {
                  "DayOfWeek": {
                    "type": "string",
                    "enum": [
                      "Monday",
                      "Tuesday",
                      "Wednesday",
                      "Thursday",
                      "Friday",
                      "Saturday",
                      "Sunday"
                    ],
                    "description": "Day of the week."
                  },
                  "StartTime": {
                    "type": "string",
                    "pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$",
                    "description": "Start time in HH:MM format (24-hour)."
                  },
                  "EndTime": {
                    "type": "string",
                    "pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$",
                    "description": "End time in HH:MM format (24-hour)."
                  },
                  "BidAdjustmentPercent": {
                    "type": "integer",
                    "minimum": -90,
                    "maximum": 900,
                    "description": "Percentage to adjust the bid (-90 to 900). 0 means no adjustment."
                  }
                },
                "required": [
                  "DayOfWeek",
                  "StartTime",
                  "EndTime",
                  "BidAdjustmentPercent"
                ],
                "additionalProperties": false
              }
            },
            "NegativeKeywords": {
              "type": "array",
              "description": "List of negative keywords.",
              "items": {
                "type": "object",
                "properties": {
                  "Keyword": {
                    "type": "string",
                    "description": "Negative keyword.",
                    "minLength": 1
                  },
                  "MatchType": {
                    "type": "string",
                    "description": "Keyword match type.",
                    "enum": [
                      "Broad",
                      "Phrase",
                      "Exact"
                    ]
                  }
                },
                "required": [
                  "Keyword",
                  "MatchType"
                ],
                "additionalProperties": false
              }
            },
            "AdGroups": {
              "type": "array",
              "description": "List of ad groups in the campaign.",
              "minItems": 1,
              "maxItems": 10,
              "items": {
                "type": "object",
                "properties": {
                  "ParentCampaignId": {
                    "type": "string",
                    "description": "Must match the parent CampaignId (e.g. 'C01').",
                    "pattern": "^C\\d{2}$"
                  },
                  "AdGroupId": {
                    "type": "string",
                    "description": "Short ad group ID linked to its campaign. Format: 'C[NN]-AG[NN]' (e.g. 'C01-AG01').",
                    "pattern": "^C\\d{2}-AG\\d{2}$"
                  },
                  "AdGroupName": {
                    "type": "string",
                    "description": "Name of the ad group. Format: '[SubCategory] | [Intent - High/Mid/Low/Remarketing]'. [SubCategory] is the specific product/service subset (e.g. 'Sofas'). [Intent] defines user funnel stage.",
                    "minLength": 1
                  },
                  "DefaultMaxCPCMYR": {
                    "type": "number",
                    "description": "Default max CPC for this ad group in MYR.",
                    "minimum": 0
                  },
                  "ResponsiveSearchAds": {
                    "type": "array",
                    "description": "Responsive search ads for this ad group.",
                    "items": {
                      "type": "object",
                      "properties": {
                        "Headlines": {
                          "type": "array",
                          "description": "List of 3 to 10 headlines.",
                          "minItems": 3,
                          "maxItems": 10,
                          "items": {
                            "type": "string",
                            "minLength": 1
                          }
                        },
                        "Descriptions": {
                          "type": "array",
                          "description": "List of 2 to 4 descriptions.",
                          "minItems": 2,
                          "maxItems": 4,
                          "items": {
                            "type": "string",
                            "minLength": 1
                          }
                        }
                      },
                      "required": [
                        "Headlines",
                        "Descriptions"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "Targeting": {
                    "type": "object",
                    "properties": {
                    "Keywords": {
                      "type": "array",
                      "description": "List of targeted keywords. Avoid non-standard characters like !, @, %, , *. Avoid improper capitalization (no ALL CAPS like FREE). Health condition-related services, procedures, or products are not allowed in personalized advertising.",
                      "items": {
                        "type": "object",
                        "properties": {
                          "Keyword": {
                            "type": "string",
                            "description": "Target keyword. Avoid non-standard characters and ALL CAPS.",
                            "minLength": 1
                          },
                            "MatchType": {
                              "type": "string",
                              "description": "Keyword match type.",
                              "enum": [
                                "Broad",
                                "Phrase",
                                "Exact"
                              ]
                            }
                          },
                          "required": [
                            "Keyword",
                            "MatchType"
                          ],
                          "additionalProperties": false
                        }
                      }
                    },
                    "required": [
                      "Keywords"
                    ],
                    "additionalProperties": false
                  }
                },
                "required": [
                  "ParentCampaignId",
                  "AdGroupId",
                  "AdGroupName",
                  "DefaultMaxCPCMYR",
                  "ResponsiveSearchAds",
                  "Targeting"
                ],
                "additionalProperties": false
              }
            }
          },
          "required": [
            "CampaignId",
            "CampaignName",
            "Goal",
            "CampaignType",
            "BudgetDailyMYR",
            "BiddingLifecycle",
            "Language",
            "Location",
            "AdSchedule",
            "NegativeKeywords",
            "AdGroups"
          ],
          "additionalProperties": false
        }
      },
      "OptimizationPlaybook": {
        "type": "object",
        "description": "A simple guide for the user on how to manage this campaign after it launches.",
        "properties": {
          "Metrics_Benchmarks": {
            "type": "object",
            "description": "The financial targets to measure success.",
            "properties": {
              "Target_CPL_MYR": {
                "type": "number",
                "description": "The ideal cost you want to pay for one lead (e.g. 50.00)."
              },
              "Max_CPL_Ceiling_MYR": {
                "type": "number",
                "description": "The maximum cost you are willing to pay before pausing an ad (e.g. 100.00)."
              }
            },
            "required": [
              "Target_CPL_MYR",
              "Max_CPL_Ceiling_MYR"
            ],
            "additionalProperties": false
          },
          "Rules_Of_Engagement": {
            "type": "array",
            "description": "A step-by-step checklist of actions to take based on performance.",
            "minItems": 5,
            "items": {
              "type": "object",
              "properties": {
                "RuleName": {
                  "type": "string",
                  "description": "A short, simple name for the rule (e.g. 'Stop Wasting Money' or 'Increase Budget')."
                },
                "Frequency": {
                  "type": "string",
                  "description": "When to check this rule. Can be specific (e.g. 'Every Friday', 'Every 3 Days', 'Weekly', 'Bi-Weekly', 'Monthly')."
                },
                "Condition": {
                  "type": "string",
                  "description": "The specific situation to look for. Use simple logic (e.g. 'CPL < Target_CPL AND ImpressionShare < 80%')."
                },
                "Action": {
                  "type": "string",
                  "description": "The detailed instruction on what to do, written in simple, plain English."
                },
                "Rationale": {
                  "type": "string",
                  "description": "A simplified explanation of why this action is necessary."
                }
              },
              "required": [
                "RuleName",
                "Frequency",
                "Condition",
                "Action",
                "Rationale"
              ],
              "additionalProperties": false
            }
          }
        },
        "required": [
          "Metrics_Benchmarks",
          "Rules_Of_Engagement"
        ],
        "additionalProperties": false
      }
    },
    "required": [
      "Campaigns",
      "OptimizationPlaybook"
    ],
    "additionalProperties": false
  }
}
